<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.ProgressBar?>

<AnchorPane prefWidth="1920" prefHeight="1080"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.RoomOneLetterController">

    <!-- Background -->
    <ImageView fitWidth="1920" fitHeight="1080" preserveRatio="false">
        <image>
            <Image url="@../../images/LetterRoomBack.jpeg"/>
        </image>
    </ImageView>

    <!-- Timer (Top Left) -->
    <Rectangle arcHeight="5.0" arcWidth="5.0" height="74.0" layoutX="23.0" layoutY="38.0" stroke="#d0c6c6" strokeType="INSIDE" strokeWidth="4.0" width="145.0" />
    <Label fx:id="timerLabel" layoutX="50.0" layoutY="50.0" text="00:00" textFill="RED">
        <font>
            <Font name="Impact" size="40.0" />
        </font>
    </Label>
    <!-- Penalty Label (Initially Invisible) -->
    <Label fx:id="penaltyLabel" layoutX="42.0" layoutY="120.0" opacity="0.0" text="-00:45" textFill="RED">
        <font>
            <Font name="Impact" size="40.0" />
        </font>
    </Label>

    <!-- Progress Bar (Top Center) -->
    <Rectangle arcHeight="5.0" arcWidth="5.0" fill="#333333" height="74.0" layoutX="820.0" layoutY="38.0" stroke="#d0c6c6" strokeType="INSIDE" strokeWidth="4.0" width="280.0" />
    <Label layoutX="865.0" layoutY="48.0" text="Progress:" textFill="#ffffff">
        <font>
            <Font name="Impact" size="20.0" />
        </font>
    </Label>
    <ProgressBar fx:id="progressBar" layoutX="850.0" layoutY="72.0" prefHeight="25.0" prefWidth="220.0" progress="0.0" style="-fx-accent: #4CAF50;" />
    <Label fx:id="progressLabel" layoutX="985.0" layoutY="48.0" text="0%" textFill="#4CAF50">
        <font>
            <Font name="Impact" size="20.0" />
        </font>
    </Label>

    <FlowPane fx:id="letterPane"
          layoutX="600"
          layoutY="300"
          prefWidth="800"
          prefHeight="600"
          hgap="40" vgap="60">

        <!-- Generate letters A–Z -->
        <Label text="A" styleClass="letter"/>
        <Label text="B" styleClass="letter"/>
        <Label text="C" styleClass="letter"/>
        <Label text="D" styleClass="letter"/>
        <Label text="E" styleClass="letter"/>
        <Label text="F" styleClass="letter"/>
        <Label text="G" styleClass="letter"/>
        <Label text="H" styleClass="letter"/>
        <Label text="I" styleClass="letter"/>
        <Label text="J" styleClass="letter"/>
        <Label text="K" styleClass="letter"/>
        <Label text="L" styleClass="letter"/>
        <Label text="M" styleClass="letter"/>
        <Label text="N" styleClass="letter"/>
        <Label text="O" styleClass="letter"/>
        <Label text="P" styleClass="letter"/>
        <Label text="Q" styleClass="letter"/>
        <Label text="R" styleClass="letter"/>
        <Label text="S" styleClass="letter"/>
        <Label text="T" styleClass="letter"/>
        <Label text="U" styleClass="letter"/>
        <Label text="V" styleClass="letter"/>
        <Label text="W" styleClass="letter"/>
        <Label text="X" styleClass="letter"/>
        <Label text="Y" styleClass="letter"/>
        <Label text="Z" styleClass="letter"/>

    </FlowPane>

    <!---Note-->
    <ImageView fx:id="hintNote"
                        layoutX="635" layoutY="675"
                        fitWidth="800"
                        fitHeight="400"
                        preserveRatio="true">
        <image>
            <Image url="@../../images/hintNote.png"/>
        </image>
    </ImageView>
        

    <!-- Arrow Right Icon -->
    <ImageView fx:id="arrowright"
                   layoutX="1800" layoutY="500"
                   pickOnBounds="true"
                   fitWidth="150" fitHeight="150"
                   onMouseClicked="#goToNext">
        <image>
            <Image url="@../../images/ArrowR.jpg"/>
        </image>
    </ImageView>

    <Label fx:id="noteText"
       layoutX="760" layoutY="700"
       prefWidth="470"
       prefHeight="300"
       wrapText="true"
       style="-fx-font-size: 54px; -fx-text-fill: black; -fx-font-family: 'Bradley Hand';"
       text="" />

    <!-- Back Button -->
    <Button fx:id="backButton" layoutX="40.0" layoutY="980.0" onMouseClicked="#goBack" prefHeight="60.0" prefWidth="120.0" style="-fx-background-color: rgba(51, 51, 51, 0.85); -fx-text-fill: white; -fx-border-color: #d0c6c6; -fx-border-width: 3px; -fx-border-radius: 5px; -fx-background-radius: 5px; -fx-font-family: 'Impact'; -fx-font-size: 24px; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.6), 10, 0, 0, 3);" text="← BACK" />

</AnchorPane>

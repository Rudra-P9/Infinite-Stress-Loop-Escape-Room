<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="1080.0" prefWidth="1920.0"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.FragmentCorridorRoom2Controller"
            stylesheets="@/styles.css">
   <children>
      <ImageView fitHeight="1307.0" fitWidth="1981.0" layoutX="-24.0" layoutY="-14.0" pickOnBounds="true" preserveRatio="true">
         <image>
            <Image url="@../../images/FragmentCorridorRoom2v2.png" />
         </image>
      </ImageView>
      <Rectangle arcHeight="5.0" arcWidth="5.0" height="74.0" layoutX="23.0" layoutY="38.0" stroke="#d0c6c6" strokeType="INSIDE" strokeWidth="4.0" width="145.0" />
      <Label fx:id="timerLabel" layoutX="50.0" layoutY="50.0" text="00:00" textFill="RED">
         <font>
            <Font name="Impact" size="40.0" />
         </font>
      </Label>
      <!-- Penalty Label (Initially Invisible) -->
      <Label fx:id="penaltyLabel" layoutX="42.0" layoutY="120.0" opacity="0.0" text="-00:45" textFill="RED">
         <font>
            <Font name="Impact" size="40.0" />
         </font>
      </Label>
      
      <Button id="UP" fx:id="UP" layoutX="1262.0" layoutY="392.0" mnemonicParsing="false" onMouseClicked="#PressedUp" opacity="0.0" prefHeight="91.0" prefWidth="82.0" text="UP" />
      <Button id="DOWN" fx:id="DOWN" layoutX="1369.0" layoutY="509.0" mnemonicParsing="false" onMouseClicked="#PressedDown" opacity="0.0" prefHeight="91.0" prefWidth="82.0" text="DOWN" />
      <Button id="LEFT" fx:id="LEFT" layoutX="1262.0" layoutY="509.0" mnemonicParsing="false" onMouseClicked="#PressedLeft" opacity="0.0" prefHeight="91.0" prefWidth="82.0" text="LEFT" />
      <Button id="RIGHT" fx:id="RIGHT" layoutX="1369.0" layoutY="392.0" mnemonicParsing="false" onMouseClicked="#PressedRight" opacity="0.0" prefHeight="91.0" prefWidth="82.0" text="RIGHT" />
      <Label fx:id="IncorrectLabel" layoutX="760.0" layoutY="680.0" text="Incorrect!" textFill="RED" visible="false">
         <font>
            <Font size="72.0" />
         </font>
      </Label>
      <Label fx:id="ContinueLabel" layoutX="256.0" layoutY="206.0" prefHeight="186.0" prefWidth="335.0" text="Continue" textFill="WHITE" visible="false">
         <font>
            <Font size="82.0" />
         </font>
      </Label>
      <ImageView fx:id="ContinueIcon" fitHeight="100" fitWidth="100" layoutX="330.0" layoutY="550.0" visible="false" pickOnBounds="true">
         <image>
            <Image url="@../../images/CursorIcon.png" />
         </image>
      </ImageView>
      <Button fx:id="ContinueButton" layoutX="91.0" layoutY="17.0" mnemonicParsing="false" onMouseClicked="#ContinueToNext" opacity="0.0" prefHeight="1054.0" prefWidth="692.0" text="Continue" />
      <ImageView id="ArrowHider" fx:id="ArrowHider" fitHeight="338.0" fitWidth="1123.0" layoutX="798.0" layoutY="3.0">
         <image>
            <Image url="@../../images/FregmentCorridorRoom2ArrowCover.png" />
         </image>
      </ImageView>
      
      <!-- Hint Icon -->
         <ImageView fx:id="hint"
                  fitHeight="100" fitWidth="100"
                  layoutX="1800" layoutY="125"
                  onMouseClicked="#showHint"
                  pickOnBounds="true"
                  styleClass="hint-icon">
            <image>
                  <Image url="@../../images/HintIcon.png" />
            </image>
         </ImageView>
      
      <!-- Progress Bar (Top Center) - placed after ArrowHider to be on top -->
      <Rectangle arcHeight="5.0" arcWidth="5.0" fill="#333333" height="74.0" layoutX="820.0" layoutY="38.0" stroke="#d0c6c6" strokeType="INSIDE" strokeWidth="4.0" width="280.0" />
      <Label layoutX="865.0" layoutY="45.0" text="Progress:" textFill="#d0c6c6">
         <font>
            <Font name="Impact" size="20.0" />
         </font>
      </Label>
      <ProgressBar fx:id="progressBar" layoutX="850.0" layoutY="72.0" prefHeight="25.0" prefWidth="220.0" progress="0.0" style="-fx-accent: #4CAF50;" />
      <Label fx:id="progressLabel" alignment="CENTER" layoutX="985.0" layoutY="45.0" prefWidth="60.0" text="0%" textFill="#4CAF50">
         <font>
            <Font name="Impact" size="20.0" />
         </font>
      </Label>
      
      <!-- HINT (hidden until clicked) -->
      <AnchorPane fx:id="hintPane" layoutX="700" layoutY="600" prefHeight="300" prefWidth="700" visible="false">
         <ImageView fx:id="hintNote" fitHeight="900" fitWidth="1000" layoutX="-200" layoutY="-300" preserveRatio="true">
            <image>
               <Image url="@../../images/hintNote.png" />
            </image>
         </ImageView>
        
         <Label id="hintText" fx:id="hintText" layoutX="15" layoutY="-100" prefWidth="650" style="-fx-font-family: 'Bradley Hand'; -fx-text-fill: black; -fx-font-size: 36px;" text="" wrapText="true" />

         <ImageView fx:id="closeHintArrow" fitHeight="30" fitWidth="30" layoutX="-30" layoutY="180" onMouseClicked="#hideHint" pickOnBounds="true" preserveRatio="true" visible="false">
            <image>
               <Image url="@../../images/ArrowLeft.png" />
            </image>
         </ImageView>
      </AnchorPane>

      <!-- LETTER REWARD PANEL -->
      <AnchorPane fx:id="letterRewardPane" layoutX="700" layoutY="600" prefHeight="300" prefWidth="700" visible="false">
         <ImageView fx:id="letterRewardNote" fitHeight="900" fitWidth="1000" layoutX="-200" layoutY="-300" preserveRatio="true">
            <image>
               <Image url="@../../images/hintNote.png" />
            </image>
         </ImageView>
        
         <Label fx:id="letterRewardText" layoutX="15" layoutY="-100" prefWidth="650" style="-fx-font-family: 'Bradley Hand'; -fx-text-fill: black; -fx-font-size: 36px;" text="" wrapText="true" />

         <ImageView fx:id="closeLetterRewardArrow" fitHeight="30" fitWidth="30" layoutX="-30" layoutY="180" onMouseClicked="#hideLetterReward" pickOnBounds="true" preserveRatio="true" visible="false" style="-fx-cursor: hand;">
            <image>
               <Image url="@../../images/ArrowLeft.png" />
            </image>
         </ImageView>
      </AnchorPane>
   </children>
</AnchorPane>

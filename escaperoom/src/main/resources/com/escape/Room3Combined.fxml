<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.Group?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.paint.LinearGradient?>
<?import javafx.scene.paint.Stop?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.control.ProgressBar?>

<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity"
    minHeight="-Infinity" minWidth="-Infinity"
    prefHeight="1080.0" prefWidth="1920.0"
    stylesheets="@/styles.css"
    xmlns="http://javafx.com/javafx/25"
    xmlns:fx="http://javafx.com/fxml/1" 
    fx:controller="controllers.Room3CombinedController">
            

    <children>
        <!-- Background -->
        <ImageView fitHeight="1080.0" fitWidth="1920.0" pickOnBounds="true">
            <image>
                <Image url="@../../images/Room3menuAndIntro.jpg" />
            </image>
        </ImageView>

        <Rectangle arcHeight="5.0" arcWidth="5.0" height="74.0" layoutX="23.0" layoutY="38.0" stroke="#d0c6c6" strokeType="INSIDE" strokeWidth="4.0" width="145.0" />
        <Label fx:id="timerLabel" layoutX="50.0" layoutY="50.0" text="00:00" textFill="RED">
            <font>
                <Font name="Impact" size="40.0" />
            </font>
        </Label>

        <!-- Progress Bar (Top Right) -->
        <Rectangle arcHeight="5.0" arcWidth="5.0" fill="#333333" height="74.0" layoutX="1620.0" layoutY="38.0" stroke="#d0c6c6" strokeType="INSIDE" strokeWidth="4.0" width="280.0" />
        <Label layoutX="1650.0" layoutY="48.0" text="Progress:" textFill="#ffffff">
            <font>
                <Font name="Impact" size="20.0" />
            </font>
        </Label>
        <ProgressBar fx:id="progressBar" layoutX="1650.0" layoutY="72.0" prefHeight="25.0" prefWidth="220.0" progress="0.0" style="-fx-accent: #4CAF50;" />
        <Label fx:id="progressLabel" layoutX="1800.0" layoutY="48.0" text="0%" textFill="#4CAF50">
            <font>
                <Font name="Impact" size="20.0" />
            </font>
        </Label>
        
        <!-- Hotspot Group -->
        <Group fx:id="hotspotGroup" layoutX="647.0" layoutY="536.0">
            <children>

                <Button fx:id="rightVaultBtn" layoutX="765.0" layoutY="-13.0" onMouseClicked="#onRightVaultClicked" prefHeight="112.0" prefWidth="112.0" style="-fx-background-color: transparent;" styleClass="vault-button" />

                <Button fx:id="coreBtn" layoutX="250.0" layoutY="-50.0" onMouseClicked="#onCoreClicked" prefHeight="120.0" prefWidth="120.0" style="-fx-background-color: transparent;" styleClass="vault-button" />

                <Button fx:id="leftVaultBtn" layoutX="-230.0" layoutY="-13.0" onMouseClicked="#onLeftVaultClicked" prefHeight="112.0" prefWidth="112.0" style="-fx-background-color: transparent;" styleClass="vault-button" />
                    


            </children>
        </Group>

        <!-- Dialog Root -->
        <Group fx:id="dialogRoot" layoutX="225.0" layoutY="162.0" visible="false">
            <children>

                <Rectangle arcHeight="5.0" arcWidth="5.0" height="832.0" opacity="0.9" strokeType="OUTSIDE" strokeWidth="5.0" width="1460.0">
                    <stroke>
                        <LinearGradient endX="1.0" endY="1.0">
                            <stops>
                                <Stop>
                                    <color>
                                        <Color red="0.6784313917" green="0.1607843190" blue="1.0" />
                                    </color>
                                </Stop>
                                <Stop offset="1.0">
                                    <color>
                                        <Color red="0.1843137294" green="0.7882353067" blue="0.1764705926" />
                                    </color>
                                </Stop>
                            </stops>
                        </LinearGradient>
                    </stroke>
                </Rectangle>

                <Text fill="WHITE" fontSmoothingType="LCD" layoutX="12.0" layoutY="73.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Synchronization Core" wrappingWidth="1346.0">
                    <font>
                        <Font name="System Bold" size="72.0" />
                    </font>
                </Text>

                <Text fill="WHITE" fontSmoothingType="LCD" layoutX="12.0" layoutY="109.0" strokeType="OUTSIDE" strokeWidth="0.0" text="&#10;Youâ€™ve reached the inner most chamber of the Varen Facility.&#10;&#10;To stabilize the central core:&#10;You must first unlock the two auxiliary vaults that guard its access.&#10;&#10;The left vault houses the Coordination Symbol puzzle.&#10;The right vault contains the Frequency Spectrum puzzle.&#10;&#10;Solve both vaults, retrieve their letters, and only then will you be able to engage the central Integration Command and begin stabilizing the core.&#10;&#10;Every second counts. Proceed with precision." wrappingWidth="1430.13687">
                    <font>
                        <Font size="38.0" />
                    </font>
                </Text>

                <Button fx:id="acknowledgeButtonRm3" layoutX="1233.0" layoutY="760.0" mnemonicParsing="false" onMouseClicked="#onAcknowledgeRm3" style="-fx-background-color: #333333; -fx-text-fill: white;                                -fx-border-color: white; -fx-cursor: hand;" text="ACKNOWLEDGE">
                    <font>
                        <Font name="Impact" size="30.0" />
                    </font>
                </Button>

            </children>
        </Group>

        <!-- Info Button -->
        <Button fx:id="infoButtonRm3" layoutX="1839.0" layoutY="991.0" mnemonicParsing="false" onMouseClicked="#onInfoRm3" prefHeight="60.0" prefWidth="60.0" style="-fx-background-color: transparent; -fx-text-fill: white;                        -fx-border-color: white; -fx-border-radius: 30; -fx-cursor: hand;" text="?">
            <font>
                <Font name="System Bold" size="30.0" />
            </font>
        </Button>

    </children>

</AnchorPane>
